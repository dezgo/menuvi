{% extends "base.html" %}

{% block title %}{{ item.name }} â€” {{ restaurant_name }}{% endblock %}

{% block body %}
<header class="topbar">
  <a href="{{ url_for('public.category', category_id=item.category_id) }}" class="topbar-back">&#8592; {{ item.category.name }}</a>
  <span class="topbar-title">{{ restaurant_name }}</span>
  <a href="{{ url_for('public.picks') }}" class="topbar-picks">
    My Picks
    {% if picks %}<span class="badge">{{ picks|length }}</span>{% endif %}
  </a>
</header>

<main class="container detail">
  <p class="cat-label">{{ item.category.name }}</p>
  <h1>{{ item.name }}</h1>
  {% if item.price_display %}
  <p class="price">{{ item.price_display }}</p>
  {% endif %}
  {% if item.description %}
  <p class="desc">{{ item.description }}</p>
  {% endif %}

  <div>
    {% if item.id in picks %}
      <form method="post" action="{{ url_for('public.pick_remove', item_id=item.id) }}">
        <button type="submit" class="btn btn-danger">Remove from Picks</button>
      </form>
    {% else %}
      <form method="post" action="{{ url_for('public.pick_add', item_id=item.id) }}" class="pick-form">
        <button type="submit" class="btn btn-solid">Add to My Picks</button>
      </form>
    {% endif %}
  </div>
</main>

{% include "public/_bottom_nav.html" %}
{% endblock %}
